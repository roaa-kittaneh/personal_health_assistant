# ุงููุณุงุนุฏ ุงูุตุญู ุงูุดุฎุตู - ุฏููู ุดุงูู

## ูุธุฑุฉ ุนุงูุฉ

**ุงููุณุงุนุฏ ุงูุตุญู ุงูุดุฎุตู** (Personal Health Assistant) ูู ุชุทุจูู ููุจ ุฐูู ูุนุชูุฏ ุนูู ุชูููุฉ **RAG (Retrieval-Augmented Generation)** ูุชูููุฑ ูุนูููุงุช ุตุญูุฉ ุนุงูุฉ ููุซููุฉ ูุขููุฉ.

### ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

- ๐ค **ูููุฐุฌ ุฐูู**: ุงุณุชุฎุฏุงู ููุงุฐุฌ LLM ูุชูุฏูุฉ ููุฅุฌุงุจุฉ ุนูู ุงูุฃุณุฆูุฉ ุงูุตุญูุฉ
- ๐ **ูุงุนุฏุฉ ูุนุฑูุฉ ููุซููุฉ**: ูุนูููุงุช ูู ูุตุงุฏุฑ ุทุจูุฉ ูุนุฑููุฉ (MedlinePlus, PubMed)
- ๐ **ุฎุท ุฃูุงุจูุจ RAG**: ุงุณุชุฑุฌุงุน ุงูุณูุงู ุงูุทุจู ุฐู ุงูุตูุฉ ูุจู ุชูููุฏ ุงูุฅุฌุงุจุงุช
- ๐พ **ุณุฌู ุดุฎุตู**: ุญูุธ ุงูุฃุณุฆูุฉ ูุงูุฅุฌุงุจุงุช ุงูุณุงุจูุฉ
- โ๏ธ **ุชุญุฐูุฑุงุช ุทุจูุฉ**: ุชุฐููุฑุงุช ุฏุงุฆูุฉ ุจุฃู ูุฐุง ููุณ ุจุฏููุงู ุนู ุงุณุชุดุงุฑุฉ ุงูุทุจูุจ
- ๐ **ูุตุงุฏูุฉ ุขููุฉ**: ูุธุงู OAuth ูุชูุงูู

## ุงูุจููุฉ ุงูุชูููุฉ

### ุงูููุฏุณ ุงูุชูููููุฌู

```
Frontend:
  - React 19
  - Tailwind CSS 4
  - shadcn/ui Components
  - tRPC Client

Backend:
  - Express.js 4
  - tRPC 11
  - Node.js

Database:
  - MySQL / TiDB
  - Drizzle ORM

AI/ML:
  - LLM Integration (Manus API)
  - RAG Pipeline
  - Text Chunking & Processing
```

### ูุนูุงุฑูุฉ ุงููุธุงู

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ุงููุณุชุฎุฏู (Frontend)                  โ
โ  - ุตูุญุฉ ุงูุฑุฆูุณูุฉ                                        โ
โ  - ูููุฐุฌ ุฅุฏุฎุงู ุงูุฃุณุฆูุฉ                                  โ
โ  - ุนุฑุถ ุงูุฅุฌุงุจุงุช ูุงููุตุงุฏุฑ                                โ
โ  - ุณุฌู ุงูุฃุณุฆูุฉ ูุงูุฅุฌุงุจุงุช                                โ
โโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                   โ tRPC Calls
โโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  ุงูุฎุงุฏู (Backend)                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ ุฅุฌุฑุงุกุงุช tRPC                                    โ   โ
โ  โ - health.askQuestion                            โ   โ
โ  โ - health.getHistory                             โ   โ
โ  โ - health.provideFeedback                        โ   โ
โ  โโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                     โ                                   โ
โ  โโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ ุฎุท ุฃูุงุจูุจ RAG                                   โ   โ
โ  โ 1. ุงุณุชุฑุฌุงุน ุงูุณูุงู ูู ูุงุนุฏุฉ ุงููุนุฑูุฉ             โ   โ
โ  โ 2. ุงุณุชุฏุนุงุก ูููุฐุฌ LLM                           โ   โ
โ  โ 3. ุชูููุฏ ุงูุฅุฌุงุจุฉ                               โ   โ
โ  โ 4. ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช                       โ   โ
โ  โโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                   โ
โโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              ูุงุนุฏุฉ ุงูุจูุงูุงุช (Database)                  โ
โ  - ุฌุฏูู ุงููุณุชุฎุฏููู (users)                             โ
โ  - ุฌุฏูู ุงููุตุงุฏุฑ ุงูุทุจูุฉ (knowledge_sources)             โ
โ  - ุฌุฏูู ุงูุฃุณุฆูุฉ ูุงูุฅุฌุงุจุงุช (qa_history)                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

#### 1. ุฌุฏูู ุงููุณุชุฎุฏููู (users)
```sql
- id: ููุชุงุญ ุฃุณุงุณู
- openId: ูุนุฑูู OAuth ูุฑูุฏ
- name: ุงุณู ุงููุณุชุฎุฏู
- email: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- role: ุงูุฏูุฑ (user/admin)
- createdAt: ุชุงุฑูุฎ ุงูุฅูุดุงุก
- updatedAt: ุชุงุฑูุฎ ุงูุชุญุฏูุซ
- lastSignedIn: ุขุฎุฑ ุชุณุฌูู ุฏุฎูู
```

#### 2. ุฌุฏูู ุงููุตุงุฏุฑ ุงูุทุจูุฉ (knowledge_sources)
```sql
- id: ููุชุงุญ ุฃุณุงุณู
- title: ุนููุงู ุงููุตุฏุฑ
- content: ูุญุชูู ุงููุต ุงููุงูู
- source: ูุตุฏุฑ ุงูุจูุงูุงุช (MedlinePlus, PubMed, etc.)
- category: ุงููุฆุฉ ุงูุทุจูุฉ
- chunks: ุฃุฌุฒุงุก ุงููุต ุงููุฌุฒุฃุฉ (JSON)
- createdAt: ุชุงุฑูุฎ ุงูุฅูุดุงุก
- updatedAt: ุชุงุฑูุฎ ุงูุชุญุฏูุซ
```

#### 3. ุฌุฏูู ุงูุฃุณุฆูุฉ ูุงูุฅุฌุงุจุงุช (qa_history)
```sql
- id: ููุชุงุญ ุฃุณุงุณู
- userId: ูุนุฑูู ุงููุณุชุฎุฏู (ููุชุงุญ ุฃุฌูุจู)
- question: ุงูุณุคุงู ุงููุทุฑูุญ
- answer: ุงูุฅุฌุงุจุฉ ุงููููููุฏุฉ
- sources: ุงููุตุงุฏุฑ ุงููุณุชุฎุฏูุฉ (JSON)
- isHelpful: ุชูููู ุงููุณุชุฎุฏู (yes/no/neutral)
- feedback: ุชุนูููุงุช ุฅุถุงููุฉ
- createdAt: ุชุงุฑูุฎ ุงูุฅูุดุงุก
- updatedAt: ุชุงุฑูุฎ ุงูุชุญุฏูุซ
```

## ุฎุท ุฃูุงุจูุจ RAG

### ุฎุทูุงุช ุงููุนุงูุฌุฉ

1. **ุงุณุชูุจุงู ุงูุณุคุงู**
   - ุงูุชุญูู ูู ุตุญุฉ ุงููุฏุฎูุงุช (3-500 ุญุฑู)
   - ุชูุธูู ุงููุต

2. **ุงุณุชุฑุฌุงุน ุงูุณูุงู**
   - ุงูุจุญุซ ูู ูุงุนุฏุฉ ุงููุนุฑูุฉ
   - ุงุฎุชูุงุฑ ุฃูุถู ุงููุตุงุฏุฑ ุฐุงุช ุงูุตูุฉ
   - ุชุฌููุน ุงูุณูุงู

3. **ุชูููุฏ ุงูุฅุฌุงุจุฉ**
   - ุงุณุชุฏุนุงุก ูููุฐุฌ LLM
   - ุฅุฑุณุงู ุงูุณูุงู ูุงูุณุคุงู
   - ุชููู ุงูุฅุฌุงุจุฉ

4. **ุญูุธ ุงูุณุฌู**
   - ุญูุธ ุงูุณุคุงู ูุงูุฅุฌุงุจุฉ
   - ุชุฎุฒูู ุงููุตุงุฏุฑ ุงููุณุชุฎุฏูุฉ
   - ุฑุจุท ุจุญุณุงุจ ุงููุณุชุฎุฏู

### ูุซุงู ุนูู ุทูุจ RAG

```typescript
// ุงูุณุคุงู
input: "ูุง ูู ุฃุนุฑุงุถ ููุต ุงูุญุฏูุฏุ"

// ุงูุณูุงู ุงููุณุชุฑุฌุน
context: "
  Title: ููุต ุงูุญุฏูุฏ
  Content: ููุต ุงูุญุฏูุฏ ูู ุญุงูุฉ ุดุงุฆุนุฉ...
  Source: MedlinePlus
"

// ุงูุฅุฌุงุจุฉ ุงููููููุฏุฉ
output: "ุฃุนุฑุงุถ ููุต ุงูุญุฏูุฏ ุชุดูู ุงูุฅุฑูุงูุ ุถูู ุงูุชููุณ..."

// ุงููุตุงุฏุฑ
sources: [
  { title: "ููุต ุงูุญุฏูุฏ", source: "MedlinePlus", category: "Hematology" }
]
```

## ูุงุฌูุงุช ุจุฑูุฌูุฉ (APIs)

### ุฅุฌุฑุงุกุงุช tRPC

#### 1. health.askQuestion
**ุงููุตู**: ุทุฑุญ ุณุคุงู ุตุญู ูุงูุญุตูู ุนูู ุฅุฌุงุจุฉ

```typescript
Input:
  - question: string (3-500 characters)

Output:
  - answer: string
  - sources: Array<{
      title: string
      source: string
      category: string
    }>

Example:
  trpc.health.askQuestion.useMutation({
    question: "ูุง ูู ุฃุนุฑุงุถ ุงูุฅูููููุฒุงุ"
  })
```

#### 2. health.getHistory
**ุงููุตู**: ุงูุญุตูู ุนูู ุณุฌู ุงูุฃุณุฆูุฉ ูุงูุฅุฌุงุจุงุช ุงูุณุงุจูุฉ

```typescript
Input: None

Output: Array<{
  id: number
  question: string
  answer: string
  sources: JSON
  isHelpful?: "yes" | "no" | "neutral"
  feedback?: string
  createdAt: Date
}>

Example:
  const history = trpc.health.getHistory.useQuery()
```

#### 3. health.provideFeedback
**ุงููุตู**: ุชูุฏูู ุชูููู ุนูู ุฅุฌุงุจุฉ ูุนููุฉ

```typescript
Input:
  - qaId: number
  - isHelpful: "yes" | "no" | "neutral"
  - feedback?: string

Output:
  - success: boolean

Example:
  trpc.health.provideFeedback.useMutation({
    qaId: 1,
    isHelpful: "yes",
    feedback: "ุงูุฅุฌุงุจุฉ ูููุฏุฉ ุฌุฏุงู"
  })
```

## ุงูุงุฎุชุจุงุฑุงุช

### ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ (Unit Tests)

ุชู ุฅูุดุงุก 8 ุงุฎุชุจุงุฑุงุช ุดุงููุฉ ููุชุญูู ูู:

- โ ูุจูู ุงูุฃุณุฆูุฉ ุงูุตุญูุฉ ุงูุตุญูุญุฉ
- โ ุฑูุถ ุงูุฃุณุฆูุฉ ุงููุตูุฑุฉ ุฌุฏุงู
- โ ุฑูุถ ุงูุฃุณุฆูุฉ ุงูุทูููุฉ ุฌุฏุงู
- โ ุชุถููู ุงููุตุงุฏุฑ ูู ุงูุฅุฌุงุจุงุช
- โ ูุจูู ุงูุชููููุงุช ุงููุฎุชููุฉ
- โ ุชุถููู ุงูุชุญุฐูุฑุงุช ุงูุทุจูุฉ

**ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช:**
```bash
pnpm test
```

## ุงูุฃูุงู ูุงูุงูุชุซุงู

### ุชุญุฐูุฑุงุช ุทุจูุฉ

ูุชู ุนุฑุถ ุชุญุฐูุฑุงุช ูุงุถุญุฉ ูู:
- ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
- ุฃุนูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- ูุจู ูู ุฅุฌุงุจุฉ

**ุงููุต ุงููุนูุงุฑู:**
> "ุงููุนูููุงุช ุงูููุฏูุฉ ููุง ูุฃุบุฑุงุถ ุชุนููููุฉ ููุท ูููุณุช ุจุฏููุงู ุนู ุงุณุชุดุงุฑุฉ ุงูุทุจูุจ ุงููุชุฎุตุต. ูู ุญุงูุฉ ุงูุทูุงุฑุฆ ุงูุทุจูุฉุ ูุฑุฌู ุงูุชูุงุตู ูุน ุฎุฏูุงุช ุงูุทูุงุฑุฆ ููุฑุงู."

### ุงููุตุงุฏูุฉ ูุงูุชูููุถ

- ุงุณุชุฎุฏุงู OAuth ูู Manus
- ุญูุงูุฉ ุงูุฅุฌุฑุงุกุงุช ุงููุญููุฉ ุจู `protectedProcedure`
- ุฑุจุท ุงูุจูุงูุงุช ุจุญุณุงุจ ุงููุณุชุฎุฏู

### ุงูุฎุตูุตูุฉ

- ูุง ูุชู ูุดุงุฑูุฉ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ
- ุชุดููุฑ ุงูุงุชุตุงูุงุช (HTTPS)
- ุญูุธ ุขูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงููุชุทูุจุงุช

- Node.js 18+
- pnpm
- MySQL / TiDB

### ุฎุทูุงุช ุงูุชุซุจูุช

```bash
# 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน
git clone <repo-url>
cd personal_health_assistant

# 2. ุชุซุจูุช ุงูุญุฒู
pnpm install

# 3. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
pnpm db:push

# 4. ุชุดุบูู ุงูุฎุงุฏู
pnpm dev

# 5. ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
pnpm test
```

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ

```env
DATABASE_URL=mysql://user:password@localhost:3306/health_assistant
JWT_SECRET=your-secret-key
VITE_APP_ID=your-app-id
OAUTH_SERVER_URL=https://api.manus.im
BUILT_IN_FORGE_API_KEY=your-api-key
BUILT_IN_FORGE_API_URL=https://api.manus.im
```

## ุงูููุฒุงุช ุงููุณุชูุจููุฉ

- [ ] ุฏุนู ุงููุบุงุช ุงููุชุนุฏุฏุฉ
- [ ] ุชุญุณูู ุฏูุฉ RAG ุจุงุณุชุฎุฏุงู embeddings
- [ ] ุฅุถุงูุฉ ุฑุณูู ุจูุงููุฉ ููุตุญุฉ
- [ ] ุชูุงูู ูุน ุฃุฌูุฒุฉ ุงูุตุญุฉ ุงูุฐููุฉ
- [ ] ูุธุงู ุชูุตูุงุช ุดุฎุตูุฉ
- [ ] ุฏุนู ุงูุตูุช ูุงููุตูุต
- [ ] ุชุทุจูู ุงููุงุชู ุงููุญููู

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ุชุธูุฑ ุงูุฅุฌุงุจุงุช

**ุงูุญู:**
1. ุชุญูู ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุชุฃูุฏ ูู ูุฌูุฏ ุจูุงูุงุช ูู ุฌุฏูู knowledge_sources
3. ุชุญูู ูู ุณุฌูุงุช ุงูุฎุงุฏู

### ุงููุดููุฉ: ุฎุทุฃ ูู ุงููุตุงุฏูุฉ

**ุงูุญู:**
1. ุชุญูู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
2. ุงูุณุญ ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท (Cookies)
3. ุญุงูู ุชุณุฌูู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู

### ุงููุดููุฉ: ุจุทุก ุงูุงุณุชุฌุงุจุฉ

**ุงูุญู:**
1. ุชุญูู ูู ุญุฌู ูุงุนุฏุฉ ุงููุนุฑูุฉ
2. ููู ุนุฏุฏ ุงููุตุงุฏุฑ ุงููุณุชุฑุฌุนุฉ
3. ุชุญุณูู ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ูุฑุฌู:
1. ุฅูุดุงุก ูุฑุน ุฌุฏูุฏ
2. ุฅุฌุฑุงุก ุงูุชุบููุฑุงุช
3. ูุชุงุจุฉ ุงูุงุฎุชุจุงุฑุงุช
4. ุฅุฑุณุงู ุทูุจ ุฏูุฌ

## ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช MIT License

## ุงูุฏุนู

ููุญุตูู ุนูู ุงูุฏุนูุ ูุฑุฌู:
- ูุชุญ issue ุนูู GitHub
- ุงูุชูุงุตู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ูุฑุงุฌุนุฉ ุงููุซุงุฆู

---

**ุขุฎุฑ ุชุญุฏูุซ:** ููููุจุฑ 2025
**ุงูุฅุตุฏุงุฑ:** 1.0.0
